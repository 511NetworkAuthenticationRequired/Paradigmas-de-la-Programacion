# MENSAJES EN CASCADA

Como ya sabemos, en Pharo, todo es un **objeto** y toda acción se realiza enviando **mensajes** a esos objetos. Un mensaje es simplemente un **pedido para que un objeto realice una operación o devuelva un valor**.  

Cuando necesitamos enviar **varios mensajes al mismo objeto**, podemos usar **mensajes en cascada**. Esto nos permite encadenar múltiples operaciones sobre un mismo objeto sin tener que repetir su nombre cada vez, haciendo el código más **conciso y legible**.  

La teoría clave que se necesita para usar cascadas es entender que:

1. **Cada mensaje en una cascada se envía al mismo receptor**, sin importar qué devuelva.  
2. La sintaxis utiliza el **punto y coma `;`** para separar los mensajes.  
3. El valor final de toda la expresión en cascada es el **objeto receptor original**, no el resultado del último mensaje.  

## a. Cascada
```smalltalk
3 factorial; factorial; factorial
```

**Devuelve:** 6

- Se envía `factorial` al **objeto original** (`3`) en cada paso.  
- Cada `factorial` se evalúa **independientemente sobre 3**.  
- El valor final de toda la expresión es el **objeto receptor original**, es decir, `3`.  
- **Resumen:** cascada ejecuta los mensajes secuencialmente pero siempre sobre el **mismo objeto**, ignorando resultados intermedios.

### b. Encadenados sin cascada
```smalltalk
3 factorial factorial factorial
```

**Devuelve:** 2601218943565795100204903227081043611191521875016945785727541837850835631156947382240678577958130457082619920575892247259536641565162052015873791984587740832529105244690388811884123764341191951045505346658616243271940197113909845536727278537099345629855586719369774070003700430783758997420676784016967207846280629229032107161669867260548988445514257193985499448939594496064045132362140265986193073249369770477606067680670176491669403034819961881455625195592566918830825514942947596537274845624628824234526597789737740896466553992435928786212515967483220976029505696699927284670563747137533019248313587076125412683415860129447566011455420749589952563543068288634631084965650682771552996256790845235702552186222358130016700834523443236821935793184701956510729781804354173890560727428048583995919729021726612291298420516067579036232337699453964191475175567557695392233803056825308599977441675784352815913461340394604901269542028838347101363733824484506660093348484440711931292537694657354337375724772230181534032647177531984537341478674327048457983786618703257405938924215709695994630557521063203263493209220738320923356309923267504401701760572026010829288042335606643089888710297380797578013056049576342838683057190662205291174822510536697756603029574043387983471518552602805333866357139101046336419769097397432285994219837046979109956303389604675889865795711176566670039156748153115943980043625399399731203066490601325311304719028898491856203766669164468791125249193754425845895000311561682974304641142538074897281723375955380661719801404677935614793635266265683339509760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

- Cada mensaje se aplica al **resultado del mensaje anterior**:  
  1. `3 factorial` → `6`  
  2. `6 factorial` → `720`  
  3. `720 factorial` → número muy grande
- **Resumen:** los mensajes se aplican de manera acumulativa sobre los resultados anteriores.

> [!CAUTION]
> **Diferencia clave:**
> - `;` (cascada) → todos los mensajes van al **objeto original**.  
> - Sin `;` → cada mensaje se aplica al **resultado del mensaje anterior**, generando efectos acumulativos.
  
